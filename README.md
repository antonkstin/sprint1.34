# sprint_1[3,4]

## v.2.0.0

> Исправлены ошибки, указанные в ревью

Чтобы развернуть проект локально необходимо в указанную локальную папку
клонировать репозиторий с github командой 
`git clone https://github.com/antonkstin/sprint13mongo`

Команда `npm run start` запустит сервер;

Команда `npm run dev` запустит сервер с hot-reload;

Чеклист:

1. В схеме пользователя есть обязательные email и password;
2. Поле email уникально и валидируется;
3. В контроллере createUser почта и хеш пароля записываются в базу;
4. Есть контроллер login, он проверяет, полученные в теле запроса почту и пароль;
5. Если почта и пароль верные, контроллер login создаёт JWT, в пейлоуд которого записано свойство _id с идентификатором пользователя; срок жизни токена — 7 дней;
6. Если почта и пароль верные, контроллер login возвращает созданный токен в ответе;
7. Если почта и пароль не верные, контроллер login возвращает ошибку 401;
8. В app.js есть обработчики POST-запросов на роуты /signin и /signup;
9. Есть файл middlewares/auth.js, в нём мидлвэр для проверки JWT;
10. При правильном JWT авторизационный мидлвэр добавляет в объект запроса пейлоуд и пропускает запрос дальше;
11. При неправильном JWT авторизационный мидвэр возвращает ошибку 401;
12. Все роуты, кроме /signin и /signup, защищены авторизацией;
13. Удалён хардкод req.user из самостоятельного проекта предыдущего спринта;
14. Пользователь не может удалить карточку, которую он не создавал;
15. API не возвращает хеш пароля;
